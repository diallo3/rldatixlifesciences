{% import "/templates/components/ui/_macro-badge.twig" as badges %}
{% import "/templates/components/ui/_macro-button.twig" as buttons %}
{% import "/templates/components/ui/_macro-heading.twig" as headings %}
{% import "/templates/components/ui/_macro-icon.twig" as icons %}
{% import "/templates/components/ui/_macro-image-object.twig" as images %}
{% import "/templates/components/ui/_macro-image-background.twig" as backgrounds %}

{% set post_title = post.title %}
{% set term = get_term(term_id) %}
{% set page_hero = term.meta('page_hero')[0] %}
{% set title = page_hero.title ?: title %}
{% set description = page_hero.entry  ?: term.description %}
{% set bck_img = page_hero.image.url %}
{% set heroAccent = page_hero.accent  %}
{% set heroSubTitle = page_hero.subtitle  %}
{% set ctas = page_hero.call_to_actions %}
{% set subtitle = page_hero.subtitle  %}
{% set ctas = page_hero.call_to_actions %}

<div class="page-content">
    {# archive hero #}
    <article
        id="{{ term ? term|lower : post.type_archive }}-hero" 
        class="relative archive-hero post-{{ post.type }} inview-hero">

        <header id="{{ term ? term|lower : post.id }}-hero" class="relative z-10 overflow-hidden">
            <div class="absolute inset-x-0 top-0 bg-gradient-to-b from-black to-transparent h-1/3"></div>
            <div class="lg:min-h-[50vh] px-6 bg-center bg-no-repeat bg-cover lg:bg-top pt-36 sm:px-12 lg:px-8 hero__background lazyload" {{ backgrounds.backgroundHeaderImage(bck_img, theme)}}>
                <div class="absolute inset-0 bg-wood-smoke-950/70 xl:hidden"></div>
                <div class="absolute inset-x-0 bottom-0 bg-gradient-to-t from-wood-smoke-950 via-wood-smoke-950/70 to-transparent h-1/3"></div>

                
                <div class="relative px-6 mx-auto lg:pt-20 max-w-screen-2xl lg:px-12">
                    <div class="pb-24 hero-content ">
                        <div class="max-w-lg space-y-6 lg:max-w-5xl lg:space-y-12 lg:pr-8 xl:pr-20">
                            <div class="space-y-4">
                                {# accent #}
                                {% if heqroAccent or post.title and not front %}
                                    <div class="hero__accent hero-content__item">
                                        {{ badges.accentBadge({
                                            title: heroAccent ?: post.title,
                                        })}}
                                    </div>
                                {% endif %}
                                {# headings #}
                                <hgroup class="mx-auto space-y-8 max-w-7xl hero__headings">
                                    
                                        <div class="inline-block hero-content__item">
                                            {{ headings.displayHeadingOne({
                                                title: title ? title,
                                                case: front ? 'uppercase' : 'normal-case',
                                                size: front ? 'fluid-text-6xl lg:fluid-text-7xl' : 'fluid-text-3xl lg:fluid-text-5xl',
                                            })}}
                                        </div>

                                        {% if heroSubTitle %}
                                            <div class="hero-content__item">
                                                {{ headings.headingThree({
                                                    title: 'Longer Page Subtitle Description',
                                                    size: front ? 'fluid-text-sm lg:fluid-text-xl' : 'fluid-text-base lg:fluid-text-lg',
                                                })}}
                                            </div>
                                        {% endif %}
                                    
                                </hgroup>
                            </div>

                            {# entry #}
                            <div class="hero__entry lg:max-w-2xl">
                                
                                {% embed "/templates/components/containers/content/_embed-prose-content.twig" %}
                                    {% block prose_content %}
                                        {{ description }}
                                    {% endblock %}
                                {% endembed %}
                            </div>

                            {# cts #}
                            {% if ctas %}
                            <div class="hero__ctas">
                                <div class="max-w-sm hero__entry-cta">
                                    {% for cta in ctas %}
                                        {{ buttons.btnLink({
                                            text: cta.link.title,
                                            link: cta.link.url,
                                            type: loop.index == 1 ? 'primary' : 'simple',
                                            icon: loop.index == 1 ? 'arrow-right' : null,
                                        })}}
                                    {% endfor %}
                                </div>
                            {% endif %}
                            </div>
                        </div>
                        </div>
                </div>
                
            </div>
        </header>
        
        
    </article>

    <div class="archive-body inview-content'">
        {# divider #}
        <div class="max-w-screen-xl mx-auto text-dodger-blue-800/50 section-divider page-content__item">
            {% include "/templates/components/dividers/_component-divider-icon.twig" %}
        </div>

        {% block archive_content %}
            <p>Archive Content</p>
        {% endblock %}
    </div>
    
    {% embed "/templates/components/containers/sections/_embed-section-full.twig"  with {
        maxWidth: 'max-w-screen-xl',
    } %}
            {% block section_content %}
                <div class="archive-pagination">
                    {% include 'components/pagination/pagination.twig' with { pagination: posts.pagination({show_all: false, mid_size: 3, end_size: 2}) } %}
                </div>
            {% endblock %}
    {% endembed %}

    <div class="max-w-screen-xl mx-auto text-dodger-blue-800/50 section-divider page-content__item">
        {% include "/templates/components/dividers/_component-divider-icon.twig" %}
    </div>

</div>